<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css"/>
    <script defer src="https://pyscript.net/latest/pyscript.js">
    </script>
    <script>
        const fileSelector = document.getElementById('file-selector');
        fileSelector.addEventListener('change', (event) => {
            const fileList = event.target.files;
            console.log(fileList);
        });

    </script>
</head>
<body>
<div>
    <input type="file" id="file-selector" accept=".jpg, .jpeg, .png">

</div>
<py-config>
    packages = ["Pillow", "numpy", "requests"]

    [[fetch]]
    files = ["./openbrowser.py"]

</py-config>

<py-button id="thebuttonid" label="run Python" type="button" pys-onClick="runPython"></py-button>
<div id="output_div" style="margin-top: 10px;margin-bottom: 10px;"></div>
<py-script>
    import requests
    import random
    import json
    from PIL import Image
    import numpy as np
    from openbrowser import Client
    from pyodide import JsProxy

    # Initialize Client
    def main(proxy: JsProxy):
        client = Client("http://localhost:3000")

        # Fetch RPC from main endpoint
        rpc_array = client.get_available_rpcs()
        output = Element("output_div")
        output.write(str(rpc_array))

</py-script>
</body>
</html>